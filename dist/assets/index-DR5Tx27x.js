(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))h(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&h(f)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function h(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const s=document.createElement("canvas");s.width=800;s.height=600;document.querySelector("#app").innerHTML="";document.querySelector("#app").appendChild(s);const l=s.getContext("2d"),e={player:{x:s.width/2-25,y:s.height-60,width:50,height:30,speed:5,color:"#0f0",lives:3},bullets:[],enemyBullets:[],enemies:[],explosions:[],enemyDirection:1,enemySpeed:1,lastEnemyShot:0,score:0,gameOver:!1};for(let i=0;i<4;i++)for(let o=0;o<8;o++)e.enemies.push({x:100+o*70,y:50+i*50,width:40,height:30,speed:1});const n={};window.addEventListener("keydown",i=>n[i.key]=!0);window.addEventListener("keyup",i=>n[i.key]=!1);function d(i,o){e.explosions.push({x:i,y:o,radius:5,maxRadius:30,alpha:1})}function y(){if(e.gameOver)return;e.explosions=e.explosions.filter(t=>(t.radius+=1,t.alpha-=.02,t.radius<t.maxRadius&&t.alpha>0)),n.ArrowLeft&&e.player.x>0&&(e.player.x-=e.player.speed),n.ArrowRight&&e.player.x<s.width-e.player.width&&(e.player.x+=e.player.speed),n[" "]&&e.bullets.length<3&&e.bullets.push({x:e.player.x+e.player.width/2-2,y:e.player.y,width:4,height:10,speed:7}),e.bullets=e.bullets.filter(t=>(t.y-=t.speed,t.y>0)),e.enemyBullets=e.enemyBullets.filter(t=>(t.y+=t.speed,t.y<s.height));const i=Date.now();if(i-e.lastEnemyShot>1e3&&e.enemies.length>0){const t=e.enemies[Math.floor(Math.random()*e.enemies.length)];e.enemyBullets.push({x:t.x+t.width/2-2,y:t.y+t.height,width:4,height:10,speed:3}),e.lastEnemyShot=i}let o=!1;if(e.enemies.forEach(t=>{t.x+=e.enemySpeed*e.enemyDirection,(t.x<=0||t.x>=s.width-t.width)&&(o=!0)}),o&&(e.enemyDirection*=-1,e.enemies.forEach(t=>{t.y+=20,t.y>=s.height-50&&(e.gameOver=!0)})),e.bullets.forEach((t,h)=>{e.enemies.forEach((r,a)=>{if(t.x<r.x+r.width&&t.x+t.width>r.x&&t.y<r.y+r.height&&t.y+t.height>r.y){d(r.x+r.width/2,r.y+r.height/2),e.bullets.splice(h,1),e.enemies.splice(a,1),e.score+=10;return}})}),e.enemyBullets.forEach((t,h)=>{if(t.x<e.player.x+e.player.width&&t.x+t.width>e.player.x&&t.y<e.player.y+e.player.height&&t.y+t.height>e.player.y){d(t.x,t.y),e.enemyBullets.splice(h,1),e.player.lives--,e.player.lives<=0&&(e.gameOver=!0);return}}),e.enemies.length===0){e.enemySpeed+=.5;for(let t=0;t<4;t++)for(let h=0;h<8;h++)e.enemies.push({x:100+h*70,y:50+t*50,width:40,height:30,speed:e.enemySpeed})}}function p(){l.fillStyle="#000",l.fillRect(0,0,s.width,s.height),e.explosions.forEach(i=>{l.beginPath(),l.arc(i.x,i.y,i.radius,0,Math.PI*2),l.fillStyle=`rgba(255, 165, 0, ${i.alpha})`,l.fill()}),l.fillStyle=e.player.color,l.fillRect(e.player.x,e.player.y,e.player.width,e.player.height),l.fillStyle="#ff0",e.bullets.forEach(i=>{l.fillRect(i.x,i.y,i.width,i.height)}),l.fillStyle="#f00",e.enemyBullets.forEach(i=>{l.fillRect(i.x,i.y,i.width,i.height)}),l.fillStyle="#f00",e.enemies.forEach(i=>{l.fillRect(i.x,i.y,i.width,i.height)}),l.fillStyle="#fff",l.font="24px Arial",l.fillText(`Score: ${e.score}`,10,30),l.fillText(`Lives: ${e.player.lives}`,10,60),e.gameOver&&(l.fillStyle="#fff",l.font="48px Arial",l.textAlign="center",l.fillText("GAME OVER",s.width/2,s.height/2),l.textAlign="left")}function c(){y(),p(),requestAnimationFrame(c)}c();
